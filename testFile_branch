some modifications for learning branching
